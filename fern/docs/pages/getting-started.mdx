The documentation for the FluidStack API is available at [API Reference](/api-reference).

To interact with our API, you will need an `api_key`. Please contact [support](mailto:support@fluidstack.io) to get one.

# Authentication Method

You can pass your `api_key`  as url parameters using the following format:

```bash maxLines=0
curl -H "Content-Type: application/json" \
     -H "api-key: <api_key>" \
    --request GET 'https://platform.fluidstack.io/instances'
```

# Creating an Instance

To create an instance, first you need to get the `gpu_type`, `operating_system_label` and `ssh_key_name`. You can get the `ssh_key_name` by creating a new SSH key or using an existing one.

## Creating an SSH Key

You can create an SSH key by using the following endpoint:

```bash maxLines=0
curl -H "Content-Type: application/json" \
     -H "api-key: <api_key>" \
    --request POST 'https://platform.fluidstack.io/ssh_keys' \
    --data '{"name": "mykey", "public_key": "<public_key>"}'
```

the endpoint will return the ssh key name

```json
{
    "name": "mykey",
    "public_key": "<public_key>"
}
```
Alternatively, if you have an SSH Key already, you can use the following endpoint:
```bash maxLines=0
curl -H "Content-Type: application/json" \
     -H "api-key: <api_key>" \
    --request GET 'https://platform.fluidstack.io/ssh_keys'
```
which will return a list of ssh keys


```json
[
    {
        "name": "mykey",
        "public_key": "<public_key>"
    }
    ...
]

```



## Create the instance 

You can create an instance by using the following endpoint. Replace `<ssh_key_name>` with the value you got from the previous steps. We will use `RTX_A6000_48GB` GPU instance type with exactly 1 GPU. 
We will also use the `ubuntu_20_04_lts` operating system template. 

You can get the list of available operating systems and GPUs by using the [list_available_configurations](/api-reference/ist-available-configurations-list-available-configurations-get) and [list_available_os_templates](/api-reference/list_available_os_templates-list_available_os_templates-get) endpoints. Alternatively
a walkthrough is provided [here](/list-of-available-configurations-and-operating-systems).



```bash maxLines=0
curl -H "Content-Type: application/json" \
     -H "api-key: <api_key>" \
    --request POST 'https://platform.fluidstack.io/instances' \
    --data '{"name": "myinstance", "operating_system_label": "ubuntu_20_04_lts", "ssh_keys": ["<ssh_key_name>"], "gpu_type": "RTX_A6000_48GB", "gpu_count": 1}'
```

You will get a response with an instance id and the instance status will be `pending`. The status will change to `running` after the instance is created and available. 

```json
{
    "id": "<instance_id>",
    "status": "pending",
    "username": "<username>",
    "ssh_port": "<ssh_port>",
    "ssh_keys": [ ],
    "ip_address": "<ip_address>",
    "name": "<instance_name>",
    "term": "hourly",
    "current_rate": 0,
    "configuration": {},
    "region": {},
    "volumes": [ ],
    "operating_system": {},
    "created_at": "<created_at>"
}
```
## Access your instance 

When the instance is running, you can connect to it SSH using the following command:

```bash maxLines=0
ssh -i <private_key> -p <ssh_port> <username>@<ip_address>
```
