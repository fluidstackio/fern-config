For the FluidStack API documentation, view the [API Reference](/api-reference).

## Requirements

 - To interact with our API, you need an `api_key`. Contact [support](mailto:support@fluidstack.io) to obtain one.
 - To create an instance, you must provide values for `gpu_type`, `operating_system_label` and `ssh_key_id`. You can use an existing SSH key or [create a new one](#create-an-ssh-key).

## Authentication

Pass your `api_key` as a url parameter using the following format:

```bash maxLines=0
curl -H "Content-Type: application/json" \
     -H "api-key: <api_key>" \
    --request GET 'https://platform.fluidstack.io/instances'
```

## Create an SSH key

You can create an SSH key by using the following endpoint:

```bash maxLines=0
curl -H "Content-Type: application/json" \
     -H "api-key: <api_key>" \
    --request POST 'https://platform.fluidstack.io/ssh_keys' \
    --data '{"name": "mykey", "public_key": "<public_key>"}'
```

The endpoint will return the `id`, `name`, and `public_key` of the created SSH key.

```json
{
    "id": "<ssh_key_id>",
    "name": "mykey",
    "public_key": "<public_key>"
}
```

## List existing SSH keys

The following endpoint returns a list of SSH keys:

```bash maxLines=0
curl -H "Content-Type: application/json" \
     -H "api-key: <api_key>" \
    --request GET 'https://platform.fluidstack.io/ssh_keys'
```

Each object in the list represents an SSH key, including its `id`, `name`, and `public_key`. 

```json
[
    {
        "id": "<ssh_key_id>",
        "name": "mykey",
        "public_key": "<public_key>"
    }
    ...
]
```

## Create the instance 

Use the cURL command below to create a new endpoint. Replace `<ssh_key_id>` with the value you received from the previous steps. We will use `RTX_A6000_48GB` GPU instance type with exactly 1 GPU. We will also use the `ubuntu_20_04_lts` operating system template. 

You can get the list of available operating systems and GPUs by using the [list_available_configurations](/api-reference/ist-available-configurations-list-available-configurations-get) and [list_available_os_templates](/api-reference/list_available_os_templates-list_available_os_templates-get) endpoints.

Alternatively, view [the full list of available configurations and operating systems](/list-of-available-configurations-and-operating-systems).

```bash maxLines=0
curl -H "Content-Type: application/json" \
     -H "api-key: <api_key>" \
    --request POST 'https://platform.fluidstack.io/instances' \
    --data '{"name": "myinstance", "operating_system_label": "ubuntu_20_04_lts", "ssh_keys": ["<ssh_key_id>"], "gpu_type": "RTX_A6000_48GB", "gpu_count": 1}'
```

You will receive a response with an instance `id`. At first, the instance `status` will be `pending`. The `status` will change to `running` after the instance is created and available. 

```json
{
    "id": "<instance_id>",
    "status": "pending",
    "username": "<username>",
    "ssh_port": "<ssh_port>",
    "ssh_keys": [ ],
    "ip_address": "<ip_address>",
    "name": "<instance_name>",
    "term": "hourly",
    "current_rate": 0,
    "configuration": {},
    "region": {},
    "volumes": [ ],
    "operating_system": {},
    "created_at": "<created_at>"
}
```
## Access your instance 

When the instance is running, you can connect to it using SSH:

```bash maxLines=0
ssh -i <private_key> -p <ssh_port> <username>@<ip_address>
```
